/* Santa Tracker - Fun Features Styles */

/* ==========================================
   FEATURES PANEL (Top stats bar)
   ========================================== */

.features-panel {
  position: fixed;
  top: var(--space-md);
  right: var(--space-md);
  z-index: var(--z-panel);
  display: flex;
  gap: var(--space-sm);
}

.features-row {
  display: flex;
  gap: var(--space-xs);
}

.feature-item {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  background: var(--color-bg-panel);
  backdrop-filter: blur(10px);
  padding: var(--space-xs) var(--space-sm);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
  cursor: default;
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.feature-item:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-glow);
}

.feature-emoji {
  font-size: 1.2rem;
}

.feature-value {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--color-gold);
  font-variant-numeric: tabular-nums;
}

.speed-flash {
  animation: speedFlash 0.5s ease-out;
}

@keyframes speedFlash {
  0% { color: #fff; transform: scale(1.2); }
  100% { color: var(--color-gold); transform: scale(1); }
}

/* ==========================================
   GIFT TYPE DISPLAY
   ========================================== */

.gift-display {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: var(--z-arrival);
  background: var(--color-bg-panel);
  backdrop-filter: blur(10px);
  padding: var(--space-md) var(--space-xl);
  border-radius: var(--radius-lg);
  border: 2px solid var(--color-gold);
  display: flex;
  align-items: center;
  gap: var(--space-md);
  box-shadow: var(--shadow-lg), 0 0 30px rgba(255, 215, 0, 0.3);
}

.gift-display.hidden {
  display: none;
}

.gift-emoji {
  font-size: 3rem;
  animation: giftBounce 0.6s ease-in-out infinite;
}

@keyframes giftBounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

.gift-text {
  font-size: 1.2rem;
  color: var(--color-text);
}

.gift-text span {
  color: var(--color-gold);
  font-weight: 700;
}

.animate-gift {
  animation: giftAppear 0.5s ease-out;
}

@keyframes giftAppear {
  0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
  50% { transform: translate(-50%, -50%) scale(1.1); }
  100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

/* ==========================================
   CHRISTMAS COUNTDOWN
   ========================================== */

.christmas-countdown {
  position: fixed;
  bottom: var(--space-md);
  right: var(--space-md);
  z-index: var(--z-panel);
  background: var(--color-bg-panel);
  backdrop-filter: blur(10px);
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
  text-align: center;
}

.countdown-label {
  font-size: 0.7rem;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.countdown-time {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--color-secondary-light);
  font-variant-numeric: tabular-nums;
}

.countdown-time.christmas-now {
  color: var(--color-gold);
  animation: christmasPulse 1s ease-in-out infinite;
}

@keyframes christmasPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); color: var(--color-primary); }
}

/* ==========================================
   FUN FACTS
   ========================================== */

.fun-fact {
  position: fixed;
  bottom: calc(var(--space-md) + 70px);
  right: var(--space-md);
  z-index: var(--z-panel);
  max-width: 300px;
  background: linear-gradient(135deg, var(--color-bg-panel), rgba(34, 139, 34, 0.3));
  backdrop-filter: blur(10px);
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-secondary);
  display: flex;
  align-items: flex-start;
  gap: var(--space-sm);
}

.fun-fact.hidden {
  display: none;
}

.fact-icon {
  font-size: 1.2rem;
  flex-shrink: 0;
}

.fact-text {
  font-size: 0.85rem;
  color: var(--color-text);
  line-height: 1.4;
}

.animate-fact {
  animation: factSlide 0.5s ease-out;
}

@keyframes factSlide {
  0% { opacity: 0; transform: translateX(20px); }
  100% { opacity: 1; transform: translateX(0); }
}

/* ==========================================
   ACHIEVEMENTS
   ========================================== */

.achievement-popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: var(--z-toast);
  background: linear-gradient(135deg, #1a1a2e, #16213e);
  border: 2px solid var(--color-gold);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  box-shadow: 0 0 50px rgba(255, 215, 0, 0.5);
}

.achievement-popup.hidden {
  display: none;
}

.achievement-content {
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

.achievement-emoji {
  font-size: 3rem;
  animation: achievementSpin 1s ease-out;
}

@keyframes achievementSpin {
  0% { transform: rotate(0deg) scale(0); }
  50% { transform: rotate(180deg) scale(1.2); }
  100% { transform: rotate(360deg) scale(1); }
}

.achievement-info {
  display: flex;
  flex-direction: column;
}

.achievement-title {
  font-size: 0.75rem;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 1px;
}

.achievement-name {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--color-gold);
  font-family: var(--font-display);
}

.animate-achievement {
  animation: achievementAppear 0.5s ease-out;
}

@keyframes achievementAppear {
  0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
  50% { transform: translate(-50%, -50%) scale(1.1); }
  100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

/* ==========================================
   CONFETTI CANVAS
   ========================================== */

.confetti-canvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 999;
}

/* ==========================================
   SOUND & MUSIC TOGGLES
   ========================================== */

.sound-toggle,
.music-toggle {
  position: fixed;
  z-index: var(--z-panel);
  width: 44px;
  height: 44px;
  border-radius: var(--radius-full);
  border: 1px solid var(--color-border);
  background: var(--color-bg-panel);
  backdrop-filter: blur(10px);
  cursor: pointer;
  font-size: 1.3rem;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.sound-toggle {
  bottom: var(--space-md);
  left: var(--space-md);
}

.music-toggle {
  bottom: var(--space-md);
  left: calc(var(--space-md) + 52px);
}

.sound-toggle:hover,
.music-toggle:hover {
  transform: scale(1.1);
  box-shadow: var(--shadow-glow);
}

.sound-toggle.disabled,
.music-toggle:not(.playing) {
  opacity: 0.6;
}

.music-toggle.playing {
  animation: musicPulse 1s ease-in-out infinite;
  border-color: var(--color-gold);
}

@keyframes musicPulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.4); }
  50% { box-shadow: 0 0 0 10px rgba(255, 215, 0, 0); }
}

/* ==========================================
   TOAST VARIATIONS
   ========================================== */

.toast-santa {
  border-color: var(--color-primary);
  background: linear-gradient(135deg, var(--color-bg-panel), rgba(196, 30, 58, 0.2));
}

.toast-milestone {
  border-color: var(--color-gold);
  background: linear-gradient(135deg, var(--color-bg-panel), rgba(255, 215, 0, 0.2));
  font-weight: 700;
}

.toast-photo {
  border-color: var(--color-secondary);
}

/* ==========================================
   FLIGHT PATH TRAIL
   ========================================== */

.flight-path {
  stroke: var(--color-gold);
  stroke-width: 2;
  stroke-dasharray: 10, 5;
  fill: none;
  opacity: 0.6;
  animation: dashMove 1s linear infinite;
}

.flight-path-animate {
  animation: pathDraw 1s ease-out, dashMove 1s linear infinite;
}

@keyframes dashMove {
  to { stroke-dashoffset: -15; }
}

@keyframes pathDraw {
  from { 
    stroke-dashoffset: 1000;
    opacity: 0;
  }
  to { 
    stroke-dashoffset: 0;
    opacity: 0.6;
  }
}

/* ==========================================
   DAY/NIGHT OVERLAY
   ========================================== */

.day-night-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  opacity: 0.15;
  background: radial-gradient(
    ellipse 50% 100% at var(--sun-x, 50%) var(--sun-y, 0%),
    transparent 0%,
    rgba(0, 0, 50, 0.8) 100%
  );
}

/* ==========================================
   AURORA EFFECT (for northern locations)
   ========================================== */

.aurora-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 30%;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
  background: linear-gradient(
    180deg,
    rgba(0, 255, 127, 0.1) 0%,
    rgba(138, 43, 226, 0.1) 30%,
    rgba(0, 191, 255, 0.05) 60%,
    transparent 100%
  );
  animation: auroraWave 8s ease-in-out infinite;
  transition: opacity 2s ease;
}

.aurora-overlay.visible {
  opacity: 1;
}

@keyframes auroraWave {
  0%, 100% { 
    background-position: 0% 50%;
    filter: hue-rotate(0deg);
  }
  50% { 
    background-position: 100% 50%;
    filter: hue-rotate(30deg);
  }
}

/* ==========================================
   RESPONSIVE ADJUSTMENTS
   ========================================== */

@media (max-width: 767px) {
  .features-panel {
    top: var(--space-sm);
    right: var(--space-sm);
    left: var(--space-sm);
    justify-content: center;
  }

  .feature-item {
    padding: var(--space-xs);
  }

  .feature-emoji {
    font-size: 1rem;
  }

  .feature-value {
    font-size: 0.75rem;
  }

  .christmas-countdown {
    bottom: calc(100px + var(--space-md));
    right: var(--space-sm);
    left: auto;
    padding: var(--space-xs) var(--space-sm);
  }

  .countdown-time {
    font-size: 0.9rem;
  }

  .fun-fact {
    bottom: calc(100px + 60px + var(--space-md));
    right: var(--space-sm);
    left: var(--space-sm);
    max-width: none;
  }

  .gift-display {
    padding: var(--space-sm) var(--space-md);
  }

  .gift-emoji {
    font-size: 2rem;
  }

  .gift-text {
    font-size: 1rem;
  }

  .sound-toggle {
    bottom: calc(100px + var(--space-md));
    left: var(--space-sm);
  }

  .music-toggle {
    bottom: calc(100px + var(--space-md));
    left: calc(var(--space-sm) + 52px);
  }

  .achievement-popup {
    width: calc(100% - var(--space-lg) * 2);
    padding: var(--space-md);
  }

  .achievement-emoji {
    font-size: 2.5rem;
  }

  .achievement-name {
    font-size: 1.1rem;
  }
}

/* Landscape mobile */
@media (max-height: 500px) and (orientation: landscape) {
  .features-panel {
    top: var(--space-xs);
    right: var(--space-sm);
    left: auto;
  }

  .christmas-countdown {
    bottom: var(--space-xs);
    right: var(--space-sm);
  }

  .fun-fact {
    display: none;
  }

  .sound-toggle,
  .music-toggle {
    bottom: var(--space-xs);
    width: 36px;
    height: 36px;
    font-size: 1rem;
  }

  .sound-toggle {
    left: calc(280px + var(--space-sm));
  }

  .music-toggle {
    left: calc(280px + var(--space-sm) + 44px);
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .gift-emoji,
  .achievement-emoji,
  .countdown-time.christmas-now,
  .music-toggle.playing {
    animation: none;
  }

  .flight-path {
    animation: none;
  }

  .aurora-overlay {
    animation: none;
  }
}

